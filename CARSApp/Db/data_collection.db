#! Generated by VisualDCT v2.3
#! DBDSTART
#! DBD("/home/epics/support/CARS/dbd/CARSApp011003.dbd")
#! DBD("/home/epics/VDCT/2.3.1242/CARSApp011003.dbd")
#! DBDEND


record(ao, "$(P)OSC_WIDTH") {
  field(DESC, "Width")
  field(PREC, "2")
  field(VAL, "1")
}

record(ao, "$(P)OSC_TIME") {
  field(DESC, "Time")
  field(PREC, "2")
  field(VAL, "10")
}

record(ao, "$(P)OSC_START") {
  field(DESC, "Start")
  field(PREC, "3")
}

record(stringout, "$(P)OSC_AXIS") {
  field(DESC, "Axis")
  field(VAL, "phi")
}

record(longout, "$(P)OSC_N") {
  field(DESC, "Osc")
}

record(longout, "$(P)OSC_RAMPUP") {
  field(DESC, "Ramp")
}

record(ao, "$(P)OSC_DARK") {
  field(DESC, "Dark")
}

record(bo, "$(P)OSC_GOING") {
  field(DESC, "Going")
}

record(ao, "$(P)OSC_PERCENT") {
  field(DESC, "Percent done")
  field(PREC, "0")
  field(DRVH, "100")
  field(DRVL, "0")
  field(HOPR, "100")
  field(LOPR, "0")
}

record(transform, "$(P)OSC_TRANS") {
  field(DESC, "Oscilation calculations")
  field(SCAN, "Passive")
  field(CLCI, "(C = 0) & (A = 0) ? B : B * C")
  field(INPA, "$(P)OSC_GO.VAL")
  field(INPB, "$(P)OSC_PERCENT.VAL")
  field(INPC, "$(P)OSC_GOING.VAL")
  field(OUTI, "$(P)OSC_PERCENT PP")
  field(CMTA, "Go input")
  field(CMTB, "Percent input")
  field(CMTI, "Percent output")
  field(CMTC, "Going input")
}

record(bo, "$(P)OSC_ABORT") {
  field(DESC, "Abort osc")
}

# Determines who in in control of seq.  0 for medm. arbitrary number for everything else
record(ao, "$(P)OSC_PID") {
  field(DESC, "Arbitrary number")
}

record(bo, "$(P)OSC_GO") {
  field(DESC, "Go")
  field(FLNK, "$(P)OSC_TRANS.PROC")
}

record(dfanout, "$(P)SNAP_NFAN") {
  field(OUTA, "$(P)SNAP_USEN PP")
  field(DOL, "1")
}

record(bo, "$(P)SNAP_USEN") {
}

record(stringout, "$(P)SNAP_PREFIX") {
  field(DESC, "File prefix")
}

record(stringout, "$(P)SNAP_FILE") {
  field(DESC, "File name")
  field(FLNK, "$(P)SNAP_FILEFAN")
}

record(ao, "$(P)SNAP_DARK") {
  field(DESC, "Dark")
}

record(longout, "$(P)SNAP_N") {
  field(DESC, "Frame number")
  field(FLNK, "$(P)SNAP_NFAN.PROC")
}

record(ao, "$(P)SNAP_PERCENT") {
  field(DESC, "Percent Done")
  field(PREC, "0")
  field(DRVH, "100")
  field(DRVL, "0")
  field(HOPR, "100")
  field(LOPR, "0")
}

record(longout, "$(P)SNAP_DZ") {
  field(DESC, "Dezinger")
}

record(stringout, "$(P)SNAP_DIR") {
  field(DESC, "Directory")
}

record(stringout, "$(P)SNAP_CMD") {
  field(DESC, "Command")
  field(VAL, "14BMD:OSC")
}

record(bo, "$(P)SNAP_GOING") {
  field(DESC, "Data collection in progress")
}

record(bo, "$(P)SNAP_ABORT") {
  field(DESC, "Abort osc")
}

record(bo, "$(P)SNAP_GO") {
  field(FLNK, "$(P)SNAP_TRANS.PROC")
}

record(transform, "$(P)SNAP_TRANS") {
  field(DESC, "Scan transform record")
  field(SCAN, "Passive")
  field(CLCI, "(C = 0) & (A = 0) ? B : B * C")
  field(INPA, "$(P)SNAP_GO.VAL")
  field(INPB, "$(P)SNAP_PERCENT.VAL")
  field(INPC, "$(P)SNAP_GOING.VAL")
  field(OUTI, "$(P)SNAP_PERCENT PP")
  field(CMTA, "Go input")
  field(CMTB, "Percent input")
  field(CMTC, "Going input")
  field(CMTI, "Percent output")
}

record(dfanout, "$(P)SNAP_FILEFAN") {
  field(OUTA, "$(P)SNAP_USEN")
  field(DOL, "0")
}

record(stringout, "$(P)OSC_STATUS") {
}

record(stringout, "$(P)SNAP_STATUS") {
}

record(dfanout, "$(P)OSC_FILEFAN") {
  field(OUTA, "$(P)SNAP_USEN PP")
  field(DOL, "0")
}

record(stringout, "$(P)SEQ_AXIS") {
}

record(stringout, "$(P)SEQ_PREFIX") {
}

record(stringout, "$(P)SEQ_DIR") {
}

record(waveform, "$(P)SEQ_DIR2") {
  field(FTVL,"CHAR")
  field(INP,"1")
  field(NELM,"256")
}

record(stringout, "$(P)SEQ_ERROR") {
}

record(longout, "$(P)SEQ_PID") {
  field(DESC, "Arbitrary number")
}

record(longout, "$(P)SEQ_NFRAMES") {
}

record(longout, "$(P)SEQ_RUN") {
}

record(longout, "$(P)SEQ_GEN") {
}

record(longout, "$(P)SEQ_STOP") {
}

record(longout, "$(P)SEQ_ABORT") {
}

record(longout, "$(P)SEQ_STATUS") {
}

record(stringout, "$(P)SEQ_STATUS_MESSAGE") {
}

record(ao, "$(P)SEQ_START") {
}

record(ao, "$(P)SEQ_INC") {
  field(PREC,"6")
}

record(ao, "$(P)SEQ_WIDTH") {
  field(PREC,"6")
}

record(ao, "$(P)SEQ_TIME") {
}

record(longout, "$(P)SEQ_FRAMES_PER_WEDGE") {
}

record(stringout, "$(P)SEQ_RATCHET_AXIS") {
}

record(ao, "$(P)SEQ_RATCHET_ANGLE") {
}

record(ao, "$(P)SEQ_MAIN_AXIS_MIN") {
}

record(ao, "$(P)SEQ_MAIN_AXIS_MAX") {
}

record(longout, "$(P)SEQ_CURRENT_FRAME") {
}

record(longout, "$(P)SEQ_RETAKE_FIRST") {
}

record(longout, "$(P)SEQ_RETAKE_LAST") {
}

record(longout, "$(P)SEQ_N_COLLECTED") {
}

record(stringout, "$(P)SEQ_CURRENT_FILENAME") {
}

record(ao, "$(P)SEQ_ENERGY") {
}

record(longout, "$(P)SEQ_NWEDGES") {
}

record(longout, "$(P)MAD_MODE") {
}

record(ao, "$(P)MAD_EDGE") {
}

record(ao, "$(P)DETECTOR_DISTANCE") {
    field(DRVL,"150")
}

record(ao, "$(P)DETECTOR_BEAMSTOP") {
    field(DRVL,"10")
    field(DRVH,"150")
}

record(ao, "$(P)RTP_KAPPA") {
    field(DRVL,"-60")
    field(DRVH,"60")
}

record(ao, "$(P)DETECTOR_CEN_X") {
    field(PREC,"3")
}

record(ao, "$(P)DETECTOR_CEN_Y") {
    field(PREC,"3")
}

record(stringout, "$(P)DETECTOR_STATUS") {
}

record(stringout, "$(P)RTP01") {
}

record(stringout, "$(P)RTP02") {
}

record(stringout, "$(P)RTP03") {
}

record(stringout, "$(P)RTP04") {
}

record(stringout, "$(P)RTP05") {
}

record(stringout, "$(P)RTP06") {
}

record(stringout, "$(P)RTP07") {
}

record(stringout, "$(P)RTP08") {
}

record(stringout, "$(P)RTP09") {
}

record(stringout, "$(P)RTP10") {
}

record(stringout, "$(P)RTP11") {
}

record(stringout, "$(P)RTP12") {
}

record(stringout, "$(P)RTP13") {
}

record(stringout, "$(P)RTP14") {
}

record(stringout, "$(P)RTP15") {
}

record(stringout, "$(P)RTP16") {
}

record(stringout, "$(P)RTP17") {
}

record(stringout, "$(P)RTP18") {
}

record(stringout, "$(P)RTP19") {
}

record(stringout, "$(P)RTP20") {
}

record(mbbi, "$(P)SEQ_TYPE") {
  field(ZRST,"Snap")
  field(ONST,"Monochromatic")
  field(TWST,"Wedge")
  field(THST,"Ratched")
  field(FRST,"TR Laue")
  field(FVST,"TR Arb Delay")
  field(SXST,"Laue Wedge")
}

record(mbbi, "$(P)SEQ_SNAP_DARK") {
  field(ZRST,"NO")
  field(ONST,"YES")
}

record(stringout,"$(P)DETECTOR_IN_USE") {
}

record(mbbi, "$(P)DETECTOR_TYPE") {
  field(ZRST,"None")
  field(ONST,"MARCCD")
  field(TWST,"MAR345")
  field(THST,"Q4")
  field(FRST,"Q9")
}

record(mbbi, "$(P)DETECTOR_MARCCD") {
  field(ZRST,"Standard")
}

record(mbbi, "$(P)DETECTOR_MAR345") {
  field(ZRST,"150 um, 345 mm")
  field(ONST,"150 um, 300 mm")
  field(TWST,"150 um, 240 mm")
  field(THST,"150 um, 180 mm")
  field(FRST,"100 um, 345 mm")
  field(FVST,"100 um, 300 mm")
  field(SXST,"100 um, 240 mm")
  field(SVST,"100 um, 180 mm")
}

record(mbbi, "$(P)DETECTOR_Q4") {
  field(ZRST,"slow")
  field(ONST,"fast")
  field(TWST,"slow 2x2")
  field(THST,"fast 2x2")
  field(FRST,"slow raws")
  field(FVST,"fast raws")
  field(SXST,"slow 2x2 raws")
  field(SVST,"fast 2x2 raws")
  field(EIST,"slow no xform")
  field(NIST,"fast no xform")
  field(TEST,"slow 2x2 noxfrm")
  field(ELST,"fast 2x2 noxfrm")
  field(TVST,"slow raw noxfrm")
  field(TTST,"fast raw noxfrm")
  field(FTST,"slow raw 2x2 nx")
  field(FFST,"fast raw 2x2 nx")
}

record(mbbi, "$(P)DETECTOR_Q9") {
  field(ZRST,"soft")
#  field(ONST,"hard")
  field(ONST,"")
#  field(TWST,"soft 2x2")
  field(TWST,"")
  field(THST,"hard 2x2 (std)")
  field(FRST,"soft raws")
#  field(FVST,"hard raws")
  field(FVST,"")
  field(SXST,"soft 2x2 raws")
#  field(SVST,"hard 2x2 raws")
  field(SVST,"")
#  field(EIST,"soft no xform")
  field(EIST,"")
#  field(NIST,"hard no xform")
  field(NIST,"")
#  field(TEST,"soft 2x2 noxfrm")
  field(TEST,"soft 2x2 noxfrm")
#  field(ELST,"hard 2x2 noxfrm")
  field(ELST,"")
  field(TVST,"soft raw noxfrm")
#  field(TTST,"hard raw noxfrm")
  field(TTST,"")
  field(FTST,"soft raw 2x2 nx")
#  field(FFST,"hard raw 2x2 nx")
  field(FFST,"")
#  field(ZRST,"transformed, not raw, unbinned, slow")
#  field(ONST,"transformed, not raw, unbinned, fast")
#  field(TWST,"transformed, not raw, binned, slow")
#  field(THST,"transformed, not raw, binned, fast")
#  field(FRST,"transformed, raw, unbinned, slow")
#  field(FVST,"transformed, raw, unbinned, fast")
#  field(SXST,"transformed, raw, binned, slow")
#  field(SVST,"transformed, raw, binned, fast")
#  field(EIST,"no transform, not raw, unbinned, slow")
#  field(NIST,"no transform, not raw, unbinned, fast")
#  field(TEST,"no transform, not raw, binned, slow")
#  field(ELST,"no transform, not raw, binned, fast")
#  field(TVST,"no transform, raw, unbinned, slow")
#  field(TTST,"no transform, raw, unbinned, fast")
#  field(FTST,"no transform, raw, binned, slow")
#  field(FFST,"no transform, raw, binned, fast")
}

record(ao,"$(P)DETECTOR_VSIZE") {
}

record(ao,"$(P)DETECTOR_HSIZE") {
}

record(longout,"$(P)DETECTOR_NVPIXELS") {
}

record(longout,"$(P)DETECTOR_NHPIXELS") {
}

record(mbbi,"$(P)DETECTOR_CEN_TYPE") {
  field(ZRST,"Adxv")
  field(ONST,"HKL")
  field(TWST,"MOSFLM")
}

#
# Time Resolved PV's
#

# AT means angle outerloop, time inner, TA is the other way around
record(mbbi,"$(P)SEQ_TR_LOOP") {
  field(ZRST,"AT")
  field(ONST,"TA")
}

# Number of delay steps
record(longout,"$(P)SEQ_TR_NDELAYS") {
}

# Number of angle steps
record(longout,"$(P)SEQ_TR_NANGLES") {
}

# When to (not) fire the laser
record(mbbi,"$(P)SEQ_TR_LASER") {
  field(ZRST,"Dark only")
  field(ONST,"1 Dark then Lt")
  field(TWST,"Light only")
}

# Time to wait between exposures
record(ao,"$(P)SEQ_TR_FL2_WAIT") {
}

# Number of exposures/frame with laser
record(longout,"$(P)SEQ_TR_NLEXP") {
}

# msOpening time with laser
record(ao,"$(P)SEQ_TR_LMSOPEN") {
}

# Number of exposures/frame w/o laser
record(longout,"$(P)SEQ_TR_NDEXP") {
}

# ms shutter opening time w/o laser
record(ao,"$(P)SEQ_TR_DMSOPEN") {
}

# Starting value of the time delay
record(ao,"$(P)SEQ_TR_DELAY_START") {
}

# Increment or multiplier of the time delay
record(ao,"$(P)SEQ_TR_DELAY_INC") {
}

# Selects addition or multiplication by increment
record(mbbi,"$(P)SEQ_TR_DELAY_AM") {
  field(ZRST,"A")
  field(ONST,"M")
}


# Random delay values
record(ao,"$(P)SEQ_TR_R01") {
}

record(ao,"$(P)SEQ_TR_R02") {
}

record(ao,"$(P)SEQ_TR_R03") {
}

record(ao,"$(P)SEQ_TR_R04") {
}

record(ao,"$(P)SEQ_TR_R05") {
}

record(ao,"$(P)SEQ_TR_R06") {
}

record(ao,"$(P)SEQ_TR_R07") {
}

record(ao,"$(P)SEQ_TR_R08") {
}

record(ao,"$(P)SEQ_TR_R09") {
}

record(ao,"$(P)SEQ_TR_R10") {
}

record(ao,"$(P)SEQ_TR_R11") {
}

record(ao,"$(P)SEQ_TR_R12") {
}

record(ao,"$(P)SEQ_TR_R13") {
}

record(ao,"$(P)SEQ_TR_R14") {
}

record(ao,"$(P)SEQ_TR_R15") {
}

record(ao,"$(P)SEQ_TR_R16") {
}


#! Further lines contain data used by VisualDCT
#! Record("$(P)OSC_WIDTH",9,5,0,0,"$(P)OSC_WIDTH")
#! Record("$(P)OSC_TIME",218,11,0,0,"$(P)OSC_TIME")
#! Record("$(P)OSC_START",217,120,0,0,"$(P)OSC_START")
#! Record("$(P)OSC_AXIS",16,310,0,0,"$(P)OSC_AXIS")
#! Record("$(P)OSC_N",72,410,0,0,"$(P)OSC_N")
#! Record("$(P)OSC_RAMPUP",216,313,0,0,"$(P)OSC_RAMPUP")
#! Record("$(P)OSC_DARK",216,225,0,1,"$(P)OSC_DARK")
#! Record("$(P)OSC_GOING",437,117,0,1,"$(P)OSC_GOING")
#! Field("$(P)OSC_GOING.VAL",16777215,1,"$(P)OSC_GOING.VAL")
#! Record("$(P)OSC_PERCENT",1028,169,0,1,"$(P)OSC_PERCENT")
#! Field("$(P)OSC_PERCENT.VAL",16777215,1,"$(P)OSC_PERCENT.VAL")
#! Record("$(P)OSC_TRANS",703,91,0,1,"$(P)OSC_TRANS")
#! Field("$(P)OSC_TRANS.INPA",16777215,1,"$(P)OSC_TRANS.INPA")
#! Link("$(P)OSC_TRANS.INPA","$(P)OSC_GO.VAL")
#! Field("$(P)OSC_TRANS.INPB",16777215,1,"$(P)OSC_TRANS.INPB")
#! Link("$(P)OSC_TRANS.INPB","$(P)OSC_PERCENT.VAL")
#! Field("$(P)OSC_TRANS.INPC",16777215,0,"$(P)OSC_TRANS.INPC")
#! Link("$(P)OSC_TRANS.INPC","$(P)OSC_GOING.VAL")
#! Field("$(P)OSC_TRANS.OUTI",16777215,1,"$(P)OSC_TRANS.OUTI")
#! Link("$(P)OSC_TRANS.OUTI","$(P)OSC_PERCENT.VAL")
#! Record("$(P)OSC_ABORT",15,217,0,1,"$(P)OSC_ABORT")
#! Record("$(P)OSC_PID",10,117,0,1,"$(P)OSC_PID")
#! Record("$(P)OSC_GO",1030,18,0,1,"$(P)OSC_GO")
#! Field("$(P)OSC_GO.FLNK",16777215,0,"$(P)OSC_GO.FLNK")
#! Link("$(P)OSC_GO.FLNK","$(P)OSC_TRANS")
#! Field("$(P)OSC_GO.VAL",16777215,0,"$(P)OSC_GO.VAL")
#! Record("$(P)SNAP_NFAN",333,1140,0,0,"$(P)SNAP_NFAN")
#! Field("$(P)SNAP_NFAN.OUTA",16777215,1,"$(P)SNAP_NFAN.OUTA")
#! Link("$(P)SNAP_NFAN.OUTA","$(P)SNAP_USEN.VAL")
#! Field("$(P)SNAP_NFAN.DOL",16777215,1,"$(P)SNAP_NFAN.DOL")
#! Record("$(P)SNAP_USEN",586,1297,0,1,"$(P)SNAP_USEN")
#! Field("$(P)SNAP_USEN.VAL",16777215,1,"$(P)SNAP_USEN.VAL")
#! Record("$(P)SNAP_PREFIX",57,929,0,0,"$(P)SNAP_PREFIX")
#! Record("$(P)SNAP_FILE",63,1314,0,0,"$(P)SNAP_FILE")
#! Field("$(P)SNAP_FILE.FLNK",16777215,1,"$(P)SNAP_FILE.FLNK")
#! Link("$(P)SNAP_FILE.FLNK","$(P)SNAP_FILEFAN")
#! Record("$(P)SNAP_DARK",249,828,0,0,"$(P)SNAP_DARK")
#! Record("$(P)SNAP_N",58,1161,0,0,"$(P)SNAP_N")
#! Field("$(P)SNAP_N.FLNK",16777215,1,"$(P)SNAP_N.FLNK")
#! Link("$(P)SNAP_N.FLNK","$(P)SNAP_NFAN")
#! Record("$(P)SNAP_PERCENT",1059,901,0,0,"$(P)SNAP_PERCENT")
#! Field("$(P)SNAP_PERCENT.VAL",16777215,1,"$(P)SNAP_PERCENT.VAL")
#! Record("$(P)SNAP_DZ",62,831,0,0,"$(P)SNAP_DZ")
#! Record("$(P)SNAP_DIR",57,1031,0,0,"$(P)SNAP_DIR")
#! Record("$(P)SNAP_CMD",250,931,0,0,"$(P)SNAP_CMD")
#! Record("$(P)SNAP_GOING",523,850,0,1,"$(P)SNAP_GOING")
#! Field("$(P)SNAP_GOING.VAL",16777215,1,"$(P)SNAP_GOING.VAL")
#! Record("$(P)SNAP_ABORT",10,10,0,0,"$(P)SNAP_ABORT")
#! Record("$(P)SNAP_GO",1056,766,0,1,"$(P)SNAP_GO")
#! Field("$(P)SNAP_GO.FLNK",16777215,0,"$(P)SNAP_GO.FLNK")
#! Link("$(P)SNAP_GO.FLNK","$(P)SNAP_TRANS")
#! Field("$(P)SNAP_GO.VAL",16777215,0,"$(P)SNAP_GO.VAL")
#! Record("$(P)SNAP_TRANS",777,825,0,1,"$(P)SNAP_TRANS")
#! Field("$(P)SNAP_TRANS.INPA",16777215,1,"$(P)SNAP_TRANS.INPA")
#! Link("$(P)SNAP_TRANS.INPA","$(P)SNAP_GO.VAL")
#! Field("$(P)SNAP_TRANS.INPB",16777215,1,"$(P)SNAP_TRANS.INPB")
#! Link("$(P)SNAP_TRANS.INPB","$(P)SNAP_PERCENT.VAL")
#! Field("$(P)SNAP_TRANS.INPC",16777215,0,"$(P)SNAP_TRANS.INPC")
#! Link("$(P)SNAP_TRANS.INPC","$(P)SNAP_GOING.VAL")
#! Field("$(P)SNAP_TRANS.OUTI",16777215,1,"$(P)SNAP_TRANS.OUTI")
#! Link("$(P)SNAP_TRANS.OUTI","$(P)SNAP_PERCENT.VAL")
#! Record("$(P)SNAP_FILEFAN",337,1314,0,0,"$(P)SNAP_FILEFAN")
#! Field("$(P)SNAP_FILEFAN.OUTA",16777215,1,"$(P)SNAP_FILEFAN.OUTA")
#! Link("$(P)SNAP_FILEFAN.OUTA","$(P)SNAP_USEN.VAL")
#! Record("$(P)OSC_STATUS",403,318,0,1,"$(P)OSC_STATUS")
#! Record("$(P)SNAP_STATUS",262,1040,0,1,"$(P)SNAP_STATUS")
