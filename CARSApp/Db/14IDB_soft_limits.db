record(transform,"$(P)soft_limits"){
        field(DESC,"Soft limits for dz BSZ kappa")
#        field(SCAN,"8")
        field(PREC,"3")
        field(DISV, "0")
        field(SDIS, "$(P)soft_limits_enable.VAL")
        field(CMTA,"dz")
        field(INPA,"14IDB:m3.RBV CP NMS")
        field(CMTB,"bsz")
        field(INPB,"14IDB:m8.RBV CP NMS")
        field(CMTC,"kappa")
        field(INPC,"14IDB:m23.RBV CP NMS")
        field(CMTD,"Neg dz limit calc")
        field(CLCD,"B+44.9")
        field(CMTE,"Pos bsz limit calc")
        field(CLCE,"A-44.9")
        field(CMTF,"Pos kappa limit calc")
        field(CLCF,"B<80?5:61")
	field(OUTF,"14IDB:m23.HLM NPP NMS")
        field(CMTH,"Lowest dz")
        field(CLCH,"D<=61.9?61.9:D")
	field(OUTH,"14IDB:m3.LLM NPP NMS")
        field(CMTI,"Highest bsz")
        field(CLCI,"E>=150.1?150.1:E")
	field(OUTI,"14IDB:m8.HLM NPP NMS")
        field(CMTJ,"Lowest bsz")
        field(CLCJ,"C>1?79.9:9.9")
	field(OUTJ,"14IDB:m8.LLM NPP NMS")
        field(CMTN,"Normal dz limit")
        field(CLCN,"61.9")
        field(CMTO,"Normal bsz limit")
        field(CLCO,"200.1")
        field(CMTP,"Normal kappa limit")
        field(CLCP,"61")
}

record(bo, "$(P)soft_limits_enable") {
        field(OMSL, "closed_loop")
        field(ZNAM, "Disable")
        field(ONAM, "Enable")
        field(VAL,"1")
}
